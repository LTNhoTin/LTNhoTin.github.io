---
layout: default
---

<div class="portfolio-header">
  <h1 class="portfolio-title">{{ page.title | default: "Nho Tin's Portfolio" }}</h1>
</div>

<div class="portfolio-container">
  <div id="pdf-viewer" class="pdf-viewer"></div>
  <div class="pdf-controls">
    <button id="prev-page" class="pdf-btn">Previous</button>
    <span>Page <span id="page-num"></span> of <span id="page-count"></span></span>
    <button id="next-page" class="pdf-btn">Next</button>
  </div>
</div>

<style>
  body, html {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }

  .portfolio-header {
    text-align: center;
    padding: 1rem;
    background-color: #333;
    color: #fff;
    border-radius: 8px;
  }

  .portfolio-title {
    font-size: 1.5rem;
    color: #61dafb;
  }

  .portfolio-container {
    width: 100%;
    height: 90%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #2c2c2c;
    color: #fff;
    text-align: center;
  }

  .pdf-viewer {
    width: 100%;
    height: 80%;
    overflow: auto;
    background-color: #fff;
    border-radius: 8px;
  }

  .pdf-controls {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
  }

  .pdf-btn {
    padding: 0.5rem 1rem;
    background-color: #61dafb;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    color: #000;
  }

  .pdf-btn:hover {
    background-color: #21a1f1;
  }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
<script>
  const url = '{{ site.baseurl }}/assets/pft/a.pdf';  // Đường dẫn tới file PDF của bạn
  let pdfDoc = null,
      pageNum = 1,
      pageIsRendering = false,
      pageNumIsPending = null;

  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  document.getElementById('pdf-viewer').appendChild(canvas);

  const renderPage = (num) => {
      pageIsRendering = true;
      pdfDoc.getPage(num).then(page => {
          const viewport = page.getViewport({ scale: 1 });

          // Tính toán tỷ lệ (scale) để phù hợp với cả PDF ngang và dọc
          const containerWidth = document.getElementById('pdf-viewer').offsetWidth;
          const containerHeight = document.getElementById('pdf-viewer').offsetHeight;
          const scale = Math.min(containerWidth / viewport.width, containerHeight / viewport.height);
          
          const scaledViewport = page.getViewport({ scale: scale });

          canvas.height = scaledViewport.height;
          canvas.width = scaledViewport.width;

          const renderCtx = {
              canvasContext: ctx,
              viewport: scaledViewport
          };

          const renderTask = page.render(renderCtx);
          renderTask.promise.then(() => {
              pageIsRendering = false;

              if (pageNumIsPending !== null) {
                  renderPage(pageNumIsPending);
                  pageNumIsPending = null;
              }
          });

          document.getElementById('page-num').textContent = num;
      });
  };

  const queueRenderPage = (num) => {
      if (pageIsRendering) {
          pageNumIsPending = num;
      } else {
          renderPage(num);
      }
  };

  const showPrevPage = () => {
      if (pageNum <= 1) {
          return;
      }
      pageNum--;
      queueRenderPage(pageNum);
  };

  const showNextPage = () => {
      if (pageNum >= pdfDoc.numPages) {
          return;
      }
      pageNum++;
      queueRenderPage(pageNum);
  };

  pdfjsLib.getDocument(url).promise.then(pdfDoc_ => {
      pdfDoc = pdfDoc_;
      document.getElementById('page-count').textContent = pdfDoc.numPages;
      renderPage(pageNum);
  });

  document.getElementById('prev-page').addEventListener('click', showPrevPage);
  document.getElementById('next-page').addEventListener('click', showNextPage);

  window.addEventListener('resize', () => {
      queueRenderPage(pageNum);
  });
</script>
